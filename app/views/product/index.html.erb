<main>
  <h1>Product list</h1>
  <div class="product-list">
    <% @products.each do |product| %>
      <div class="product d-flex justify-content-between">
      <div><%= link_to product.name, product_path(product.id) %></div>
        <% if current_user %>
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Save
            </button>
            <ul class="dropdown-menu">
              <% current_user.lists.each do |list| %>
                <div class="ms-2"><%= link_to list.name, create_list_item_path(product, list_id: list.id, quantity: 1), data: {turbo_method: :post} %></div>
              <% end %>
            </ul>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</main>
