(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5545],{77954:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/browse/[...slug]",function(){return s(38832)}])},42135:function(e,t,s){"use strict";s.d(t,{l:function(){return d}});var n=s(52322),r=s(2784),i=s(99466),o=s(27033),u=s(94256),l=s(48751),a=s(37401),d=(0,r.forwardRef)((function(e,t){var s=e.assetsUrl,r=e.dataTestId,d=e.id,c=e.results,f=e.enableProductHat,v=(0,l.a)(c),g=v.resultsWithBoughtBefore,p=v.showBoughtBeforeAnnotationProductTile;return(0,n.jsx)(u.t$,{ref:t,"data-testid":r||"page-results-list",id:d,children:g.map((function(e,t){switch(e._type){default:return null;case a.$.PRODUCT:return(0,n.jsx)(o.v,{assetsUrl:s,priority:t<u.Qg,product:e,enableProductHat:f,isBoughtBeforeItem:p&&e.isBoughtBeforeItem},t);case a.$.SINGLE_TILE:return(0,n.jsx)(i._,{tile:e},t)}}))})}))},2706:function(e,t,s){"use strict";s.d(t,{o:function(){return d}});var n=s(2784),r=s(77439),i=s(42290),o=s(58698),u=s(98689),l=s(1164),a=s(64530),d=function(e){var t=e.shouldRestrict,s=e.reloadOnSuccess,d=void 0===s||s,c=e.closeRedirectUrl,f=void 0===c?r.n.Home:c,v=(0,a.VV)(i.L.AgeGateVerified),g=(0,o.TL)(),p=t&&!v;return(0,n.useEffect)((function(){p&&g((0,u.K4)(l.n.AgeGate,{closeRedirectUrl:f,reloadOnSuccess:d,solidBackground:!0}))}),[f,g,p,d]),p}},38832:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return H},default:function(){return q}});var n=s(70865),r=s(50930),i=s(52322),o=s(55351),u=s(5632),l=s(2784),a=s(6804),d=s(86902),c=s(62313),f=s(45694),v=s(10986),g=s(42178),p=s(87394),h=s(14304),m=s.n(h),x=s(8782),j=s(19943),b=s(81848),S=s(859),_=s(54557),w=s(17542),y=s(32114),R=s(52200),N=s(81962),O=s(42135),P=s(88390),B=s(94256),F=s(96009),C=s(41913),E=s(68304),I=s(75188),k=(0,l.forwardRef)((function(e,t){var s,n,r,o=e.assetsUrl,a=e.searchResults,c=void 0===a?{}:a,f=e.aemContentFragment,g=void 0===f?{}:f,h=(0,I.D)({exclusions:["relevance","frequencyDescending"]}),k=(0,u.useRouter)().query,T=(0,b.a)(b.j.tabletSmallMax),U=(0,l.useState)(!1),V=U[0],L=U[1],z=(0,p.Z)((0,C.m)(),2),A=z[0],D=z[1],H=(0,l.useState)([]),q=H[0],M=H[1],Q=(0,l.useMemo)((function(){return(0,v.QF)(k.slug)}),[k.slug]),Z=(0,l.useMemo)((function(){return(0,d.fx)(k.page)}),[k.page]),G=c.results,Y=void 0===G?[]:G,$=c.noOfResults,K=void 0===$?0:$,X=c.pageSize,W=void 0===X?0:X,J=c.filters,ee=void 0===J?[]:J,te=c.banners,se=void 0===te?[]:te,ne=((null===g||void 0===g||null===(s=g.data)||void 0===s||null===(n=s.categoryContentDescriptionByPath)||void 0===n||null===(r=n.item)||void 0===r?void 0:r.description)||{}).html,re=void 0===ne?"":ne,ie=(0,d.VC)(K,W),oe=!Y.length&&Object.keys(A).length,ue=Q.includes("tobacco"),le=K>0,ae=se&&se.length>0,de=T&&!!ee.find((function(e){var t=e.name;return[R.Yt.Special,R.Yt.BoughtBefore].includes(t)}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(B.dq,{className:"is-pcp",children:[(0,i.jsxs)(B.ek,{className:"current-level-".concat(Q.length),id:(0,E.d)("browse-nav-container"),showDivider:de,children:[(0,i.jsx)(x.S,{style:{top:(0,j.Q1)(-60)},id:"skipto-main-content",href:"#skipto-product-items",children:"Skip to product items"}),(0,i.jsx)(w.Oe,{slug:Q,banner:ae&&(0,i.jsx)(B.f9,{banner:se[0]})}),de&&(0,i.jsx)(R.z,{filters:ee})]}),(0,i.jsxs)(B.OO,{id:(0,E.d)("browse-content-container"),children:[ae&&(0,i.jsx)(B.f9,{banner:se[0]}),(0,i.jsx)(y.z,{slug:Q}),ue&&(0,i.jsx)(B.UP,{children:(0,i.jsx)(F.N,{})}),(0,i.jsx)(x.S,{style:{top:(0,j.Q1)(-10)},id:"skipto-product-items"}),(0,i.jsx)(R.VG,{filters:ee,setShowFilters:L,setExpandedFilters:M}),le&&(0,i.jsx)(P.d,{page:Z,pageSize:W,noOfResults:K,setShowFilters:L,sortOptions:h}),oe?(0,i.jsx)(N.s,{clearFilters:D}):(0,i.jsx)(O.l,{assetsUrl:o,dataTestId:"product-tiles",id:(0,E.d)("product-tiles"),ref:t,results:Y,enableProductHat:!0}),(0,i.jsx)(_.R,{defaultPage:Z,totalPages:ie}),re&&(0,i.jsx)(B.az,{children:(0,i.jsx)("div",{"data-testid":"aem-content-fragment",dangerouslySetInnerHTML:{__html:m().sanitize(re)}})})]})]}),(0,i.jsx)(S.T,{filters:ee,open:V,expandedFilters:q,onClose:function(){return L(!1)},sortOptions:h,clearFilters:D})]})})),T=s(2706),U=s(52502),V=s(50587),L=s(99537),z=s(46377),A=s(17544),D=s(71532),H=!0,q=function(e){var t=e.assetsUrl,s=e.searchResults,p=e.searchSessionId,h=e.isRestricted,m=e.enableIndexAndFollow,x=e.sortByValue,j=e.aemContentFragment,b=(0,u.useRouter)().query,S=(0,l.useRef)(null),_=(0,V.nN)(),w=(0,g.pY)(S),y=(0,z.aC)().isLoggedIn,R=(0,c.ON)(),N=(0,c.ub)(),O=(0,L.K9)().data,P=(0,l.useMemo)((function(){return(0,v.QF)(b.slug)}),[b.slug]),B=(0,A._5)({slug:P,allProductCategories:_,query:b,enableIndexAndFollow:m});return(0,T.o)({shouldRestrict:h}),(0,l.useEffect)((function(){if(P){var e=(0,f.Nc)(),t=(0,f.Z8)();e&&P.toString()==t||((0,f.KP)((0,a.Z)()),(0,f.wL)(P.toString()));var n={id:(0,f.Nc)(),session_id:p};(0,D.D)(A.tw.PageView,{isAuthenticated:y},R,O,N,{name:B.title,type:A.c7.SHOP,brand:A.iI.COLES,breadcrumbs:["home","all categories"].concat((0,r.Z)(P)),banners:null===s||void 0===s?void 0:s.banners,products:null===s||void 0===s?void 0:s.results,categories:P,sortBy:x,filters:(0,A.$x)(b,(null===s||void 0===s?void 0:s.filters)||[]),display:{grid_width:w,results:((null===s||void 0===s?void 0:s.results)||[]).length,total_results:(null===s||void 0===s?void 0:s.noOfResults)||0,pagination:{current:Number(null===b||void 0===b?void 0:b.page)||1,total:(0,d.VC)(Number(null===s||void 0===s?void 0:s.noOfResults),Number(null===s||void 0===s?void 0:s.pageSize))}}},{search:n})}}),[P,null===b||void 0===b?void 0:b.page,null===s||void 0===s?void 0:s.filters]),(0,U.f)(),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.PB,(0,n.Z)({},B)),(0,i.jsx)(k,{assetsUrl:t,searchResults:s,ref:S,aemContentFragment:j})]})}},42178:function(e,t,s){"use strict";s.d(t,{pY:function(){return i}});var n=s(2784),r=function(e){var t=e&&getComputedStyle(e,":before").getPropertyValue("content");return"string"===typeof t?Number(t.replace(/['"s]+/g,"")):null},i=function(e){var t=(0,n.useState)(null),s=t[0],i=t[1];return(0,n.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current;t&&i(r(t))}),[e]),s}}},function(e){e.O(0,[9774,2888,179],(function(){return t=77954,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[...slug]-50b8a3bef27dfaf9.js.map