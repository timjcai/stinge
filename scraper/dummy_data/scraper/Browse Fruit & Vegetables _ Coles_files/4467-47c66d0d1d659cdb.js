"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4467],{64467:function(e,n,t){t.d(n,{g4:function(){return u},NK:function(){return ve},YY:function(){return Z}});var i=t(70865),r=t(52322),o=t(55351),a=t(59761),l=t(77439),s=t(17544),c=t(84719),d=t(40757),u=function(e){var n=e.resolvedUrl,t=e.data,u=e.indexFollowFlag,p=e.pageType,g=(0,s.ng)({resolvedUrl:n,data:t,shouldIndexPage:u});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Fw,{pageProps:{name:g.title,pageType:p||g.pageType}}),(0,r.jsx)(o.PB,(0,i.Z)({},g)),(0,s.C$)(n)&&(0,r.jsx)(o.iu,{url:a.C.coles.Root,potentialActions:[{target:a.C.coles.Root+l.n.Search+"?q",queryInput:"search_term_string"}]}),(0,r.jsx)(d.S,(0,i.Z)({},e))]})},p=t(96670),g=t(2784),f=t(92228),v=t(68215),h=t(5342),x=t(27356);function m(){var e=(0,f.Z)(["\n  overflow: hidden;\n"]);return m=function(){return e},e}function j(){var e=(0,f.Z)(["\n  .fitToGrid-container,\n  .fitToGrid-container:first-child {\n    padding: 0;\n    margin: 0;\n  }\n\n  .coles-targeting-themegridGrid {\n    --grid-margin: 0;\n  }\n\n  .breadcrumbs {\n    ","\n  }\n"]);return j=function(){return e},e}var y=v.ZP.div.withConfig({componentId:"sc-c2b49024-0"})(m()),b=(0,v.ZP)(x.OO1).withConfig({componentId:"sc-c2b49024-1"})(j(),h.XK.s3.bottom),Z=function(e){var n=e.resolvedUrl,t=e.data,a=e.indexFollowFlag,l=e.isAemOnlyUrl,u=(0,s.ng)({resolvedUrl:n,data:t,shouldIndexPage:!l&&a}),f=(0,s.lt)(e),v=(0,g.useMemo)((function(){if(!(null===f||void 0===f?void 0:f.dynamicPublishedDate))return null;var e=new Date(f.dynamicPublishedDate),n=("0"+(e.getDay()+1)).slice(-2),t=("0"+(e.getMonth()+1)).slice(-2),i=e.getFullYear();return"".concat(i,"-").concat(n,"-").concat(t)}),[f]),h=v?u.additionalMetaTags.concat({name:"datePublished",content:v}):u.additionalMetaTags,x=(0,g.useMemo)((function(){var e,n,i,r,o,a,l,s,c=null===(n=null===t||void 0===t||null===(e=t[":items"])||void 0===e?void 0:e.root[":items"])||void 0===n||null===(i=n.responsivegrid)||void 0===i||null===(r=i[":items"])||void 0===r||null===(o=r.recipelayoutcontainer)||void 0===o?void 0:o[":items"],d=null===c||void 0===c||null===(a=c.recipecontainer)||void 0===a?void 0:a[":items"];return{id:(null===f||void 0===f?void 0:f.recipeId)||"",name:(null===f||void 0===f?void 0:f.pageTitle)||"",tags:(null===f||void 0===f?void 0:f.pageTags)||[],dynamicThumbnail:(null===f||void 0===f?void 0:f.dynamicThumbnail)||"",recipedetails:null===c||void 0===c?void 0:c.recipedetails,recipeingredients:null===d||void 0===d?void 0:d.item_1,recipemethod:null===d||void 0===d?void 0:d.item_2,recipesummary:null===c||void 0===c?void 0:c.recipesummary,recipetips:null===d||void 0===d||null===(l=d.item_3)||void 0===l||null===(s=l[":items"])||void 0===s?void 0:s.recipetips}}),[f,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Fw,{pageProps:{name:u.title,pageType:u.pageType},otherProps:{recipe:x}}),(0,r.jsx)(o.PB,(0,p.Z)((0,i.Z)({},u),{additionalMetaTags:h})),(0,r.jsx)(y,{"data-testid":"recipe-detail",itemScope:!0,itemType:"http://schema.org/Recipe",children:(0,r.jsx)(d.S,(0,i.Z)({},e))})]})},C=t(47842),F=t(50930),k=t(5632),O=t(51395),w=t(39173),S=t(40240),P=t(34029),T=t(35764),I=t(66800),z=t(95562),M=t(81848),L=t(47757),R=t(10986),B=t(75379),N=t(79984);function U(){var e=(0,f.Z)(["\n  display: block;\n\n  @media "," {\n    padding: "," ",";\n  }\n\n  @media "," {\n    padding: "," ",";\n  }\n"]);return U=function(){return e},e}function _(){var e=(0,f.Z)(["\n  padding: "," ",";\n  display: flex;\n"]);return _=function(){return e},e}function D(){var e=(0,f.Z)(["\n  flex: 1;\n  justify-content: center;\n  margin-right: ",";\n\n  &:last-child {\n    margin-right: ",";\n  }\n"]);return D=function(){return e},e}function G(){var e=(0,f.Z)(["\n  padding: ",";\n  @media "," and "," {\n    padding: "," ",";\n  }\n  ul {\n    li {\n      &:first-child {\n        border-top: none;\n      }\n      &:last-child {\n        border-bottom: none;\n      }\n    }\n  }\n"]);return G=function(){return e},e}var A=v.ZP.span.attrs((function(e){return(0,i.Z)({className:"coles-targeting-FiltersFiltersHeader"},e)})).withConfig({componentId:"sc-6ce9629-0"})(U(),B.rS.rdsDevice.mobile,N.zr.s1,N.zr.none,B.rS.rdsDevice.tabletMin,N.zr.s4,N.zr.none),E=v.ZP.footer.attrs((function(e){return(0,i.Z)({className:"coles-targeting-FiltersFiltersFooter"},e)})).withConfig({componentId:"sc-6ce9629-1"})(_(),N.zr.none,N.zr.s4),q=(0,v.ZP)(P.zx).attrs((function(e){return(0,i.Z)({className:"coles-targeting-FiltersFiltersFooterButtons"},e)})).withConfig({componentId:"sc-6ce9629-2"})(D(),N.zr.s6,N.zr.none),K=v.ZP.section.attrs((function(e){return(0,i.Z)({className:"coles-targeting-FiltersFiltersContent"},e)})).withConfig({componentId:"sc-6ce9629-3"})(G(),N.zr.s6,M.j.mobileSmallMaxHeight,M.j.mobileSmallMax,N.zr.none,N.zr.s6),H=function(e,n){var t;return e?null===(t=n.find((function(n){return n.value===e})))||void 0===t?void 0:t.value:n[0].value},V=t(95227);function Y(){var e=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: ","px ","px;\n"]);return Y=function(){return e},e}var X=v.ZP.div.withConfig({componentId:"sc-8072c4-0"})(Y(),N.Ki.s3,N.Ki.s6),$=function(){return(0,r.jsxs)(X,{"data-testid":"nested-filters-skeleton",children:[(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),(0,r.jsx)(V.O,{height:"40px",mt:"20px"})]})},J=function(e){var n=e.filters,t=void 0===n?[]:n,o=e.activeFilters,a=void 0===o?{}:o,l=e.onApply,s=e.onClose,c=e.open,d=void 0!==c&&c,u=e.expandedFilters,f=void 0===u?[]:u,v=e.withSort,h=void 0!==v&&v,x=e.style,m=e.className,j=e.clearFilters,y=e.header,b=void 0===y?"Filters":y,Z=e.isLoading,F=(0,k.useRouter)(),B=F.push,N=F.asPath,U=(0,g.useMemo)((function(){return(0,R.en)(N)}),[N]),_=(0,g.useState)(a),D=_[0],G=_[1],V=(0,M.a)(M.j.desktopMaxZoom)?"small":"medium",Y=(0,M.a)(M.j.tabletSmallMax),X=h&&Y,J=function(e,n){G((function(t){return(0,p.Z)((0,i.Z)({},t),(0,C.Z)({},e,n))}))},Q=(0,g.useState)(!0),W=Q[0],ee=Q[1],ne=t.reduce((function(e,n){var t=n.key,o=n.type,a=n.label,l=n.options,s=n.parent,c=void 0===s?"":s,d=!["checkbox","radio","button"].includes(o);if(!X&&"sortBy"===t||d)return e;var u=0===f.length?Object.keys(D).includes(t)&&!!D[t]:W&&f.includes(t),g=l.map((function(e){return(0,p.Z)((0,i.Z)({},e),{label:"".concat(e.label).concat(void 0===e.totalResults?"":" (".concat(e.totalResults,")"))})})),v=(0,L.s8)(a),h="checkbox"===o?(0,r.jsx)(O.$,{groupKey:t,checkboxGroupList:g,groupDefaultValue:D[t],groupValue:D[t],onGroupChange:function(e){return J(t,e)}},t):(0,r.jsx)(w.x,{ariaLabelledby:v,radioList:g,defaultValue:H(D[t],g),onChange:function(e){return J(t,e)}},t),x="button"===o;return e.concat({title:a,defaultExpanded:u,children:h,hasNextLevel:x,parent:c})}),[]),te=[(0,r.jsx)(q,{size:V,variant:"inverse",onClick:function(){return function(){j();var e=Object.fromEntries(t.map((function(e){return[e.key,void 0]})));G(e),fe(e),null===l||void 0===l||l(e)}()},"aria-label":"Clear all","data-testid":"filters-clear-all",children:"Clear all"},"clear-all"),(0,r.jsx)(q,{size:V,variant:"primary",onClick:function(){return G(D),fe(D),null===l||void 0===l||l(D),void s()},"aria-label":"Apply settings","data-testid":"filters-apply-all",children:"Apply"},"apply-all")],ie=Y&&X?"Filter & sort":b,re=(0,g.useState)(!1),oe=re[0],ae=re[1],le=(0,g.useState)(ie),se=le[0],ce=le[1],de=(0,g.useState)(""),ue=de[0],pe=de[1],ge=function(e){e?(ae(!0),ce(e),pe(e)):(ce(ie),pe(""))};(0,g.useEffect)((function(){var e=f.length>0?f.slice(-1)[0]:"";if(-1!==t.findIndex((function(n){return n.key===e&&"button"===n.type}))){var n=e?decodeURIComponent(e.split("filter_")[1]):"";ge(n)}else ge(""),ae(!1),ce(ie),pe("")}),[f]),(0,g.useEffect)((function(){d||(ee(!0),G(a))}),[s]);var fe=function(e){var n=(0,R.Nv)({url:U.url,query:(0,p.Z)((0,i.Z)({},U.query,e),{page:1})});B(n,void 0,{shallow:!0})};return(0,r.jsx)("div",{style:x,className:m,children:(0,r.jsxs)(S.d,{anchor:"right",open:d,onClose:s,header:se&&(0,r.jsx)(A,{children:se}),footer:(0,r.jsx)(E,{children:te}),headerButton:oe?(0,r.jsx)(P.zx,{iconOnly:"IconChevronLeftOutline","aria-label":"Back to menu","data-testid":"drawer-header-button",size:"medium",variant:"inverse",onClick:function(){ae(!1),ce(ie),pe("")}}):void 0,children:[Z&&(0,r.jsx)($,{}),!Z&&(0,r.jsx)(K,{children:ne.filter((function(e){return e.parent===ue})).map((function(e,n){return e.hasNextLevel?(0,r.jsxs)(z._O,{id:"".concat(e.title,"-label"),isExpanded:!0,isPadded:!1,onClick:function(n){return t=e.title,ge(t||""),void ee(!1);var t},children:[(0,r.jsx)(z.Oi,{children:(0,r.jsx)(z.il,{"data-testid":"accordion-title",children:e.title})}),(0,r.jsx)(T.Z,{})]},e.title?(0,L.s8)(e.title):n):(0,r.jsx)(I.U,{content:[e],isScrollable:!0},e.title?(0,L.s8)(e.title):n)}))})]})})},Q=t(59026),W=t(47148),ee=t(587),ne=t(58698),te=t(35960),ie=t(87394),re=t(70324),oe=t(35083),ae=t(22882),le=t(81156);function se(){var e=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 ","px 0 0;\n"]);return se=function(){return e},e}var ce,de=v.ZP.div.withConfig({componentId:"sc-12d36bbf-0"})(se(),N.Ki.s3),ue=function(){var e=(0,M.a)(M.j.tabletSmallMax);return(0,r.jsxs)(de,{"data-testid":"recipe-navigation-skeleton",children:[(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),!e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),(0,r.jsx)(V.O,{height:"40px",mt:"20px"}),(0,r.jsx)(V.O,{height:"40px",mt:"20px"})]})]})},pe=function(e,n,t){return{label:e,href:"".concat(l.n.RecipesInspiration.Root,"/").concat(n),isBold:!0,showEnd:!1,isActive:n===t}},ge=function(e){var n=e.pageTitle,t=e.pageCategory,i=e.pageSubCategory,o=e.filterOptions,a=e.isLoading,s=(0,g.useMemo)((function(){if(o){var e,n=null===(e=o.filters.find((function(e){return!!e[t]})))||void 0===e?void 0:e[t].options;return 1===n.length?Object.entries(n[0]).map((function(e){var n=(0,ie.Z)(e,2),t=n[0],r=n[1];return pe(r,t,i)})):n.reduce((function(e,n){var t=Object.keys(n)[0];return e.concat(pe(n[t].title,t,i))}),[])}}),[t,i,o]);return(0,r.jsxs)(x.ekG,{children:[(0,r.jsx)(le.If,{children:(0,r.jsxs)(le.Ub,{children:[n&&(0,r.jsx)("h1",{"data-testid":"product-cat-heading",children:n}),(0,r.jsx)(ae.r,{passHref:!0,href:l.n.RecipesInspiration.Root,children:(0,r.jsx)(re.rU,{href:"",label:"Recipes & Inspiration",iconStart:(0,r.jsx)(T.Z,{}),"data-testid":"back-link","aria-label":"back to Recipes & Inspiration"})})]})}),a&&(0,r.jsx)(ue,{}),!a&&s&&(0,r.jsx)(oe.b,{links:s,showAsPillsOnSmallDevices:!0,showSkipLinks:!0,title:"recipe category list"})]})},fe=(ce={},(0,C.Z)(ce,"course","meal"),(0,C.Z)(ce,"ingredients","ingredient"),(0,C.Z)(ce,"dietary information","dietary"),ce),ve=function(e){var n=e.resolvedUrl,t=e.data,a=e.indexFollowFlag,l=(0,s.ng)({resolvedUrl:n,data:t,shouldIndexPage:a}),c=(0,s.lt)(e),u=c.pageTitle,f=c.pageTags,v=(0,ne.TL)(),h=f[0].split(" / "),m=fe[h[1].toLowerCase()],j=h[2].toLowerCase();v((0,ee.N5)({pageCategory:m,pageSubCategory:j,pageTitle:l.title,pageType:l.pageType}));var y=(0,Q.O7)(),Z=y.data,C=y.isLoading,O=(Z||{}).filters,w=void 0===O?[]:O,S=(0,ne.CG)(W.nG).displayFilter,P=(0,ne.CG)(W.se).expandFilter,T=(0,g.useMemo)((function(){return[{type:"radio",key:"sortBy",label:"Sort by",options:te.B}].concat((0,F.Z)((0,s.zw)(w)))}),[w]),I=(0,k.useRouter)().query,z=(0,g.useMemo)((function(){return(0,s.XO)(I)}),[I]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.PB,(0,i.Z)({},l)),(0,r.jsxs)(x.dqO,{"data-testid":"recipe-category-container",children:[(0,r.jsx)(ge,{pageTitle:u,pageCategory:m,pageSubCategory:j,filterOptions:Z,isLoading:C}),(0,r.jsx)(b,{children:(0,r.jsx)(d.S,(0,i.Z)({},e))})]}),(0,r.jsx)(J,{activeFilters:I.sortBy?(0,p.Z)((0,i.Z)({},z),{sortBy:I.sortBy}):z,withSort:!0,filters:T,onApply:function(){},onClose:function(){v((0,ee.Fe)({displayFilter:!1}))},open:S,expandedFilters:P,clearFilters:function(){},queryData:w,isLoading:C})]})}}}]);
//# sourceMappingURL=4467-47c66d0d1d659cdb.js.map